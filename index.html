<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Hoja de Vida â€“ Persona JurÃ­dica</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>


<h1>Hoja de Vida â€“ Persona JurÃ­dica</h1>
<div style="display: flex; gap: 32px; align-items: flex-start;">
  <form id="form">
    <!-- I. IDENTIFICACIÃ“N -->
    <fieldset>
      <legend>I. IdentificaciÃ³n</legend>
      <input name="razonSocial" placeholder="RazÃ³n social">
      <input name="sigla" placeholder="Sigla">
      <input name="nit" placeholder="NIT">
    </fieldset>
    <!-- II. SERVICIOS -->
    <fieldset>
      <legend>II. Servicios</legend>
      <input name="servicio1" placeholder="Servicio 1">
      <input name="servicio2" placeholder="Servicio 2">
      <input name="servicio3" placeholder="Servicio 3">
      <input name="servicio4" placeholder="Servicio 4">
      <input name="servicio5" placeholder="Servicio 5">
      <input name="servicio6" placeholder="Servicio 6">
    </fieldset>
    <!-- IV. REPRESENTANTE -->
    <fieldset>
      <legend>IV. Representante Legal</legend>
      <input name="primerApellido" placeholder="Primer apellido">
      <input name="segundoApellido" placeholder="Segundo apellido">
      <input name="nombres" placeholder="Nombres">
      <input name="documento" placeholder="Documento">
    </fieldset>
    <button type="submit">ðŸ“„ Generar PDF</button>
  </form>
  <div>
    <canvas id="pdf-preview" width="630" height="900" style="border:1px solid #333; background:#fff; box-shadow:0 2px 8px #0002;"></canvas>
    <div style="font-size:13px;color:#333;margin-top:8px;">Vista previa plantilla.pdf</div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js"></script>
<script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
<script src="app.js"></script>
<script>
// Vista previa PDF en canvas
document.addEventListener('DOMContentLoaded', function() {
  const canvas = document.getElementById('pdf-preview');
  const ctx = canvas.getContext('2d');
  const url = 'plantilla.pdf';
  if (window['pdfjsLib']) {
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    pdfjsLib.getDocument(url).promise.then(pdf => {
      pdf.getPage(1).then(page => {
        // Escala mayor para mejor nitidez
        const scale = 1.5;
        const viewport = page.getViewport({ scale });
        canvas.width = viewport.width;
        canvas.height = viewport.height;
        // Fondo blanco
        ctx.fillStyle = '#fff';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        const renderContext = {
          canvasContext: ctx,
          viewport: viewport
        };
        page.render(renderContext);
      });
    });
  } else {
    ctx.font = '16px Arial';
    ctx.fillStyle = '#888';
    ctx.fillText('No se pudo cargar PDF.js', 10, 30);
  }
});
</script>
</body>
</html>
